# [JetCalc](https://www.jetcalc.ru) - платформа экономического моделирования с системой обратной связи

## **Назначение [JetCalc](https://www.jetcalc.ru)**

JetCalc - платформа экономического моделирования с системой обратной связи, предназначенная для сбора и консолидации управленческой отчетности, бюджетирования и финансово-экономического анализа.

![Веб-интерфейс JetCalc](https://github.com/leossnet/jetcalc/raw/master/image/jetcalc_main.jpg)

### Характеристики [JetCalc](https://www.jetcalc.ru)

- высокопроизводительная масштабируемая облачная технология с гибкой настройкой прав доступа к пользовательским данным
- экономическое моделирование с помощью встроенного языка контекстно-зависимых формул без участия программистов
- обновление экономических моделей, консолидация данных и формирование отчетности в режиме реального времени
- гибкие механизмов верификации вводимых данных
- развитые инструменты визуализации данных
- настраиваемые инструменты обратной связи и контроля исполнительской дисциплины
- распространение программного кода [JetCalc](https://www.jetcalc.ru) под лицензий [MIT](https://ru.wikipedia.org/wiki/Лицензия_MIT)

### Реализация в [JetCalc](https://www.jetcalc.ru) обратной связи

- запись действий каждого пользователя по заполнению документов и изменению их статуса
- увязка изменения статуса документа с верификацией вводимых данных
- пользовательские инструкции по заполнению форм ввода и анализу данных
- контекстно-зависимый чат для обсуждения рабочих вопросов
- широковещательные объявления с подтверждением прочтения

## **Способы установки [JetCalc](https://www.jetcalc.ru)**
В зависимости от целей и технических возможностей серверную часть [JetCalc](https://www.jetcalc.ru) можно установить:

- на облачном хостинге VDS
- на выделенном сервере в локальной сети
- на локальном компьютере в виртуальной машине VirtualBox
Серверная часть JetCalc работает под управлением операционной системы [Linux Ubuntu Server версии 16.04](http://releases.ubuntu.com/16.04/) или более высокой.

Клиентская часть [JetCalc](https://www.jetcalc.ru) может выполняться на любой платформе в любом современном веб-браузере, хотя предпочтительным является браузер на движке [V8](https://ru.wikipedia.org/wiki/V8_(движок_JavaScript)), например [Google Chrome](https://www.google.com/chrome/) или [Яндекс.Браузер](https://browser.yandex.ru/).

Порядок установки и первоначальной настройки описан в [главе 11. Установка JetCalc](https://leossnet.gitbook.io/jetcalc/ustanovka-sisteme-na-oblachnom-hostinge) [Руководства пользователя JetCalc](https://leossnet.gitbook.io/jetcalc/).

## **Требования к оборудованию**

Для развертывания и промышленной эксплуатации [JetCalc](https://www.jetcalc.ru) в облаке достаточно 4-х ядерного процессора, 8 Гб оперативной памяти и 25 Гб диска SSD (стоимость VDS-хостинга с такими параметрами на [NetAngels](https://www.netangels.ru/) составляет около 1600 рублей в месяц).

Для тестирования возможностей [JetCalc](https://www.jetcalc.ru) в облаке достаточно 2-х ядерного процессора, 2 Гб оперативной памяти и 10 Гб диска SSD (стоимость VDS-хостинга с такими параметрами на [NetAngels](https://www.netangels.ru/) составляет около 600 рублей в месяц). 

Для комфортной работы в браузере одновременно с другими открытыми приложениями рекомендуется не менее 8 Гб оперативной памяти.

## **Серверная часть кода**

### NGINX

Статические файлы системы отдаются через веб-сервер [NGINX](https://nginx.ru/) . Файлы, расположенные в папке **static** и папках модулей, доступны из браузера, а все вызовы, начинающиеся с префикса **/api/**, передаются на обработку в [Node.js](https://nodejs.org/en/).

### Node.js 

Весь серверный код выполняется на сервере [Node.js](https://nodejs.org/en/) посредством библиотеки [Express](http://expressjs.com/). Для работы с датами испльзуется библиотека [Moment.js](https://momentjs.com/). Для оптимизации и сокращения количества кода используются функциональные возможности библиотеки [Lodash](https://lodash.com/). Для того, чтобы избежать больших количеств вложенных функций (callback hell), применяется библиотека [Async](https://github.com/caolan/async). В системе принципиально не используются Promise (но это может не остановить сторонних разработчиков).

### PostgreSQL

Реляционная база данных [PostgreSQL](https://www.postgresql.org/) используется для хранения первичных значений ячеек документов. Все механизмы взаимодействия с базой данных производятся через специальные процедуры. Все запросы приложения к базе данных выполняются без промежуточного кеширования. 

### MongoDB

В [MongoDB](https://www.mongodb.com/) хранится вся информация приложения о всех настройках предметной области. Взаимодействие приложения c [MongoDB](https://www.mongodb.com/) осущесвляется посредством расширения [Mongoose](http://mongoosejs.com/).

### Redis

[Redis](https://redis.io/) используется для кеширования в оперативной памяти практически всех данных работаюдщего приложения, кроме первичных значений ячеек, хранящихся в базе данных [PostgreSQL](https://www.postgresql.org/).

## **Клиентская часть кода**

Клиентская часть реализована в виде модульного одностраничного приложения на JavaScript, в которой применяются те же [Lodash](https://lodash.com/), [Moment.js](https://momentjs.com/) и [Async](https://github.com/caolan/async). 

При проектировании работы подключаемого модуля следует учитывать, что если модуль требует тяжеловесных сторонних библиотек, то их можно подгружать при необходимости с помощью [RequireJS](http://requirejs.org/). Хороший пример - модуль построения графиков (chart), который подгружает большие библиотеки [C3](https://c3js.org/) и [D3](https://d3js.org/) только когда пользователь находится на странице в графиками.

В клиентском коде для привязки данных применяется библиотека [Knockout](http://knockoutjs.com/).

В системе подключается библиотека [jQuery](https://jquery.com/), хотя в большинстве случаев она не не используется напрямую, особенно с завязыванием на атрибут id элемента. Эти задачи решаются  через **custom binding**.

Для верстки системы используется [Bootstrap](https://getbootstrap.com/).

## **Дополнительные ресурсы**

Более подробно о назначении системы [JetCalc](https://www.jetcalc.ru) можно узнать на сайте [www.jetcalc.ru](https://www.jetcalc.ru), на котором размещены различные методические материалы по настройке и эффективному использованию [JetCalc](https://www.jetcalc.ru) в практической деятельности финансово-экономических подразделений. 

На GitBook разрабатывается [документация по JetCalc](https://leossnet.gitbook.io/jetcalc/). Приветствуются любые замечания и предложения по документации, которые можно высылать на почту **info@cyberjet.ru**. 

По адресу [demo.jetcalc.ru](https://demo.jetcalc.ru) доступна демо-версия финансового анализа на [JetCalc](https://www.jetcalc.ru), а по адресу [metal.jetcalc.ru](https://metal.jetcalc.ru/) размещена демонстрационная модель калькулирования себестоимости в черной металлургии. С логином  **demo** и паролем **demo** доступен вход только по чтению для предварительного знакомства с пользовательским интерфейсом. Чтобы получить расширенный доступ, необходимо зарегистрироваться в [демо-версии JetCalc](https://demo.jetcalc.ru), выбрав пункт **Регистрация** на странице ввода логина и пароля.

Координация деятельности экономистов и программистов, участвующих в развитии проекта, осуществляется на хостинге компании [JetBrains](https://www.jetbrains.com/) в трекере [YouTrack](https://www.jetbrains.com/youtrack/) на странице [leossnet.myjetbrains.com/youtrack](https://leossnet.myjetbrains.com/youtrack/issues)
